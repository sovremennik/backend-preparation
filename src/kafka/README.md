### **Apache Kafka**

---

#### 1. **Основы Kafka**
- **Что такое Kafka:**  
  - Основные задачи и назначение: логирование, стриминг, интеграция систем.  
  - Kafka как распределённая система.  
- **Основные компоненты:**  
  - **Брокеры (Brokers)**  
  - **Топики (Topics)**  
  - **Продюсеры (Producers) и Консьюмеры (Consumers)**  
  - **Zookeeper** (и его роль в кластере)  
  - **Partition и Offset**  
- **Архитектура Kafka:**  
  - High-level схема взаимодействия.  
  - Логическая и физическая структура.  

---

#### 2. **Установка и настройка Kafka**
- Загрузка и установка (Kafka vs Confluent Kafka).  
- Конфигурационные файлы:  
  - `server.properties`, `producer.properties`, `consumer.properties`.  
- Настройка Zookeeper и Kafka Broker.  
- Базовые команды управления:  
  - `kafka-topics.sh`  
  - `kafka-console-producer.sh`  
  - `kafka-console-consumer.sh`  

---

#### 3. **Производители (Producers)**
- **Как работают продюсеры:**  
  - Создание сообщения и отправка в топик.  
  - Ключи сообщений (key) и их связь с партициями.  
- **Настройка продюсера:**  
  - Ретрай (retries), подтверждение записи (acks).  
  - Сжатие данных (compression).  
- **Kafka Producer API** (основные методы).  

---

#### 4. **Потребители (Consumers)**
- **Консьюмеры и группы консьюмеров:**  
  - Обработка сообщений и балансировка нагрузки.  
  - Commit offset: manual vs auto.  
- **Настройка консьюмеров:**  
  - `enable.auto.commit`.  
  - Параметры пула: `max.poll.records`, `max.poll.interval.ms`.  
- **Kafka Consumer API** (основные методы).  

---

#### 5. **Партиции и репликации**
- **Понятие партиций:**  
  - Как сообщения распределяются по партициям.  
  - Стратегии распределения: Round Robin, Hash-based.  
- **Репликация данных:**  
  - Лидеры и реплики.  
  - Важность ISR (In-Sync Replicas).  
- **Обеспечение отказоустойчивости.**  

---

#### 6. **Производительность и масштабируемость**
- Потоковая запись и чтение (High throughput).  
- Настройка размера партиций и реплик.  
- Работа с большими топиками.  
- **Инструменты мониторинга Kafka:**  
  - Prometheus + Grafana.  
  - JMX Metrics.  

---

#### 7. **Продвинутые темы Kafka**
- **Потоковая обработка данных:**  
  - Kafka Streams API.  
  - Примеры создания приложений для потоковой обработки.  
- **Connectors (Kafka Connect):**  
  - Что это такое и зачем нужно.  
  - Примеры: JDBC Connector, File Connector.  
  - Трансформация данных через Kafka Connect (Single Message Transformations, SMT).  
- **Транзакции в Kafka:**  
  - Exactly-once delivery.  
  - Atomicity между продюсерами и консьюмерами.  

---

#### 8. **Безопасность**
- **Аутентификация:**  
  - SASL (Plain, Kerberos, OAuth).  
  - SSL/TLS для шифрования данных.  
- **Авторизация:**  
  - ACL (Access Control Lists).  
- Ограничение доступа к топикам.  

---

#### 9. **Ошибки и отладка**
- **Типичные ошибки и их диагностика:**  
  - Ошибка "Offset Out of Range".  
  - Задержки при чтении/записи.  
- **Использование логов Kafka для отладки.**  
- **Инструменты:** Kafka Manager, Kafka Tool.  

---

#### 10. **Кластер Kafka в продакшене**
- **Лучшие практики развертывания:**  
  - Топология кластеров.  
  - Чек-лист для продакшена (разделение дисков, лимиты памяти).  
- **Работа с Kafka на Kubernetes/Docker.**  
- **Миграция и обновление кластера.**
